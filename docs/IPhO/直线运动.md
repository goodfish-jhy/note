# 直线运动

本章围绕直线运动展开讲解，包括定义介绍、计算公式、图像分析等内容。

## 介绍

称物体运动时通过的路径为该物体的运动轨迹。

若物体的运动轨迹是一条直线，则称该物体做直线运动。

按物体受力的不同，直线运动又可以进一步划分为：

- 匀速直线运动
- 匀变速直线运动（包括匀加速或匀减速直线运动）
- 变速直线运动

### 基本概念

下面是直线运动过程中的一些基本概念

- $\overrightarrow{v}$ ：速度，常见单位 $m/s$ ，速度描述了物体运动快慢与方向，属于[矢量](https://note.goodfish.site/IPhO/%E5%90%91%E9%87%8F)，可以分为瞬时速度 $\overrightarrow{v_{瞬}}$ 与平均速度 $\overline{\overrightarrow{v}}$ 。

- $v$ ：速率，常见单位 $m/s$，速率仅描述了物体运动的快慢（可视为速度的模即 $|\overrightarrow{v}|$ ），属于标量，区别于速度的方向性，同样可以分为瞬时速率$v_{瞬}$ 与平均速率 $\overline{v}$ 。

- $\overrightarrow{x}$ ：位移，常见单位 $m$ ，位移是从初位置指向末位置的有向线段，属于[矢量](https://note.goodfish.site/IPhO/%E5%90%91%E9%87%8F)。

- $s$ ：路程，常见单位 $m$ ，路程描述了物体的运动轨迹的长度，属于标量，区别于位移。

- $\overrightarrow{a}$ ：加速度，常见单位 $m/s^{2}$ ，加速度描述了物体运动速度变化的快慢与方向，属于向量.

- $t$ ：时间，常见单位 $s$，属于标量，通常认为 $0 \le t$ 。

根据两点之间线段最短，必然有$|\overrightarrow{x}| \le s$ 。

对于任意运动，都有 $\overline{v}t = x_{t}$ 。

### 基础公式

下面是物体在不同运动状态下，各物理量的定量关系计算方法

#### 匀速直线运动

物体做匀速直线运动时，速度 $v$ 为定值，加速度 $a$ 为 $0$ ，物体所受的合外力为 $0$ 。

其中 $x \propto t$ ，比例系数为 $v$ ，即：

$$x_{t} = vt$$

由于匀速直线运动在初中阶段已经学习过，此处不过多介绍。

#### 匀变速直线运动

!!! Tip
      在描述随时间而变化的物理量时，常用下标时刻的方式来表示该时刻下的物理量。

      如 $v_{t}$ 可表示时刻 $t$ 下的速度。
      
      在无需区分向量与标量时（例如仅做数值运算时），为书写方便也可不标向量上方的箭头，但这种写法并不标准，需读者注意。
      
      同时，下文中默认初位移 $x_0$ 为0。
      

物体做匀变速直线运动时，速度 $v$ 随时间的变化而变化，加速度 $a$ 为定值，物体所受的合外力为定值。

其中 $v \propto t$ ，比例系数为 $a$ ，即：

$$\Delta v = at$$

$t$ 时刻的速度 $v_{t}$ 可表示为：

$$v_{t} = v_{0} + \Delta v  = v_{0} + at$$

位移 $\overrightarrow{x}$ 等于速度矢量对时间的定积分。具体来说，从时刻 $t_{1}$ 到时刻 $t_{2}$ 间的位移 $\overrightarrow{x}$ 为：

$$\overrightarrow{x} = \int_{t_1}^{t_2} \overrightarrow{v_{t}} \, dt$$

即位移等于v-t图像下的面积，套用梯形面积公式可以得到：

$$x_{t} = \frac{(v_0+v_t)t}{2}$$

又根据 $\overline{v}t = x_{t}$，所以：

$$\overline{v_{t}} = \frac{v_0+v_t}{2}$$

将 $v_{t} = v_{0} + at$ 代入可以得到：

$$
\begin{aligned}
x_{t} &= \frac{(2v_0+at)t}{2} \\
&= v_{0}t + \frac{1}{2}at^{2}
\end{aligned}
$$

由 $\Delta v = v_t - v_0 = at$ 得 $t = \frac{v_t - v_0}{a}$ ，代入得：

$$
\begin{aligned}
x_{t} &= v_{0} \left( \frac{v_{t} - v_{0}}{a} \right) + \frac{1}{2} a \left( \frac{v_{t} - v_{0}}{a} \right)^2 \\
&= \frac{v_{0} v_{t} - {v_{0}}^{2}}{a} + \frac{1}{2a} ({v_{t}}^{2} - 2v_{0} v_{t} + {v_{0}}^{2}) \\
&= \frac{2(v_{0} v_{t} - {v_{0}}^{2}) + ({v_{t}}^{2} - 2v_{0} v_{t} + {v_{0}}^{2})}{2a} \\
&= \frac{{v_{t}}^{2} - {v_{0}}^{2}}{2a}
\end{aligned}
$$

整理即得：

$${v_{t}}^{2} - {v_{0}}^{2} = 2ax$$

综上，整理一下匀变速直线运动的公式：

$$
\begin{align}
&\Delta v = at \\
&2ax = {v_{t}}^{2} - {v_{0}}^{2} \\
&\overline{v_{t}} = \frac{v_0+v_t}{2} \\
&x_{t} = \frac{(v_0+v_t)t}{2} \\
&x_{t} = v_{0}t + \frac{1}{2}at^{2}
\end{align}
$$

在解题时，可观察题面中给出以及需求解的物理量来选取对应的公式。

#### 变速直线运动

变速直线运动的加速度 $a$ 随时间的变化而变化，即物体所受的合外力随时间的变化而变化。

在变速直线运动当中，一段时间内的速度变化量 $\Delta \overrightarrow{v}$ 等于这一段时间内加速度矢量对时间的定积分。

具体来说，从时刻 $t_{1}$ 到时刻 $t_{2}$ 的速度变化量 $\Delta \overrightarrow{v}$ 为：

$$\Delta \overrightarrow{v} = \int_{t_1}^{t_2} \overrightarrow{a_{t}} \, dt$$

即速度变化量 $\Delta \overrightarrow{v}$ 等于a-t图像下的面积。

当 $a \propto t$ 即 $a_t = a_0 + k \cdot t$ 时，a-t图像为直线，套用梯形面积公式可以得到：

$$
\begin{aligned}
\Delta v &= \frac{(a_{0} + a_{t})t}{2} \\
&= \frac{(2a_{0} + kt)t}{2} \\
&= a_{0}t + \frac{1}{2}kt^{2}
\end{aligned}
$$

### 图像分析

#### x-t图像

在 $x-t$ 图像中，曲线的切线斜率即为瞬时速度 $v$：

$$
\frac{dx}{dt}=v
$$

若 $x$ 满足 $x=mt^{2}+nt+x_{0}$，则

$$
v_{t}=\frac{dx}{dt}=2mt+n
$$

这正对应前文给出的 $x^{\prime}=2mt+n$，即匀加速运动的速度表达式。

在x-t图像中：

- 其在某一点切线的斜率给出了该时刻的速度 $v$ ，即对于x-t图像求导。
- 其面积通常情况下没有含义，其面积的量纲为 $m\cdot s$ 。
- 其纵截距代表初位移 $x_0$ ，在通常情况下为0。
- 其横截距代表开始运动的时刻（常记为 $t_0$ ），在通常情况下为0。

根据其图像符合的解析式，又可以进一步分为3种较为常见的模型。

##### 1. $x = C$

此处$C$代表常量 `const` 。

此时 $x$ 不随 $t$ 的变化而变化，即物体处于静止状态。

##### 2. $x = k\cdot t$

根据x-t图像斜率所代表的意义可知，有 $k=v$ 。

此时 $x \propto t$ ，即物体做匀速直线运动。

##### 3. $x = mt^2 + nt + x_{0}$

根据公式 $x = v_{0}t + \frac{1}{2} at^{2}$ ，使用待定系数法可以得到：

$$
\begin{aligned}
m &= \frac{1}{2} a \\
n &= v_{0}
\end{aligned}
$$

对于 $x = mt^2 + nt + x_{0}$ 求导又可以得到：

$$
\begin{aligned}
x^{'} &= 2mt + n \\
&= at + v_{0}
\end{aligned}
$$

即物体做匀加速运动。

#### v-t 图像

在 $v-t$ 图像中，曲线的切线斜率即为瞬时加速度 $a$：

$$
\frac{dv}{dt}=a
$$

若 $v(t)$ 为二次多项式 $v=mt^{2}+nt+v_{0}$，则

$$
a(t)=\frac{dv}{dt}=2mt+n
$$

这与前文给出的 $a=v^{\prime}=2mt+n$ 完全一致，描述了加速度随时间的线性变化（$a\propto t$）。

在v-t图像中：

- 其在某一点切线的斜率给出了该时刻的加速度 $a$ ，即对于v-t图像求导。
- 其面积代表位移 $x$ ，即对于v-t图像积分。
- 其纵截距代表初速度 $v_0$ 。
- 其横截距代表速度 $v$ 为 $0$ 的时刻（常记为 $t_0$ ）。

根据其图像符合的解析式，又可以进一步分为3种较为常见的模型

##### 1. $v = C$

此处$C$代表常量 `const` 。

此时 $v$ 不随 $t$ 的变化而变化，即物体处于匀速直线运动状态。

##### 2. $v = k\cdot t$

根据v-t图像斜率所代表的意义可知，有 $k=a$ 。

此时 $v \propto t$ ，即物体做匀变速直线运动。

##### 3. $v = mt^2 + nt + v_{0}$

对于 $v = mt^2 + nt + v_{0}$ 求导可以得到：

$$
a = v^{'} = 2mt + n
$$

不难发现 $a \propto t$ ，即物体做加速度均匀变化的变速直线运动。

#### a-t 图像

在a-t图像中：

- 其在某一点切线的斜率给出了该时刻加速度变化速率（即“jerk/急动度”）$j$：
 ，即对于a-t图像求导。
- 其面积代表位移变化量 $\Delta v$ ，即对于a-t图像积分。
- 其纵截距代表初加速度 $a_0$ 。
- 其横截距代表加速度 $a$ 为 $0$ 的时刻（常记为 $t_0$ ）。

根据其图像符合的解析式，又可以进一步分为2种较为常见的模型:

##### 1. $a = C$

此处$C$代表常量 `const` 。

此时 $a$ 不随 $t$ 的变化而变化，即物体处于匀变速直线运动状态。

##### 2. $a = k\cdot t$

根据v-t图像斜率所代表的意义可知， $k$ 为加速度变化率。

即物体做加速度均匀变化的变速直线运动。

#### $v^2 - x$ 图像

!!! warning

      需要注意，$v^2$ 与 $x$ 之间 **不一定满足函数关系** 。

      函数关系要求：对于每个位置 $x$，必须有 **唯一确定** 的 $v^2$ 值与之对应。

      - **当运动满足 $|v|$ 是 $x$ 的单值函数时** ，$v^2$ 与 $x$ 才成函数关系。例如在 **匀加速直线运动** （且不折返）中，公式 $v^2 = {v_0}^2 + 2a(x - x_0)$ 给出了 $v^2$ 与 $x$ 之间的一一对应。

      - **当物体在同一位置 $x$ 可以对应多个不同的速率 $|v|$ 时** ，$v^2$ 与 $x$ 就不构成函数关系。  
      
      典型例子是 **往复运动** （如弹簧振子）：物体两次经过同一位置时，速率可能不同，此时一个 $x$ 对应多个 $v^2$ 值，违反函数的定义。

      因此，判断的关键在于 **运动过程中是否出现同一位置对应多个速率的情况** ，而不仅仅是速度方向是否改变（若方向改变但速率唯一，仍可为函数关系）。

在 $v^2 - x$ 图像中：

- 其在某一点切线的斜率给出了该时刻加速度的二倍 $2a$ ，即对于a-t图像求导。
- 其面积通常情况下是没有含义的，其面积的量纲为 $m^3/s^2$ 。
- 其纵截距代表位移为0时速度的平方（若初位移为0则等价于初速度的平方） ${v_0}^2$ 。
- 其横截距代表速度 $v$ 为 $0$ 时的位移（常记为 $x_0$ ）。

根据其图像符合的解析式，又可以进一步分为2种较为常见的模型:

##### 1. $v^{2} = C$

此处$C$代表常量 `const` 。

此时 $v$ 不随 $t$ 的变化而变化，即物体处于匀速直线运动状态。

##### 2. $v = kx+b$

根据$v^2 - x$ 图像斜率所代表的含义可知，$k = 2a$ (若初位移 $x_0 = 0$ 还有 $b = {v_0}^2$ )

#### $\frac{x}{t} - t$ 图像

该图像描绘的是平均速度 $\overline{v}=\frac{x}{t}$ 随时间的变化。

- 其在某一点切线的斜率给出了该时刻平均速度变化率 $a_{平}$ ，即对于 $\frac{x}{t} - t$ 图像求导。
- 其面积代表该时刻的位移 $x$ 。
- 其纵截距代表开始运动时的平均速度 $\overline{v}_0$。
- 其横截距代表平均速度等于0的时刻。

!!! Tip "微分分析"

      由于$\frac{x}{t} - t$ 图像在某一点切线的斜率所代表的含义并不常见，相关物理量之间的数量关系可能无法快速想到，在此给出部分数量关系推导过程：

      借助微元法/微分思想，对于一个极小的位移 $\Delta x$ ，可以近似将这段运动看做匀变速运动，其平均速度变化率 $a_{平}$ 与加速度 $a$ 存在一定关系，具体推导过程如下：

      根据 $x = v_{0}t + \frac{1}{2} at^2$ ，可得：

      $$
      \begin{aligned}
      \overline{v} &= \frac{x}{t} \\
      &= \frac{v_{0}t + \frac{1}{2} at^2}{t} \\
      &= v_{0} + \frac{1}{2} at
      \end{aligned}
      $$

      不难发现 $\overline{v} = \frac{x}{t} \propto t$ ，进一步，有斜率 $a_{平} = \frac{1}{2}a$ 。
      
      综上，在某一点切线的斜率必然等于该时刻物体加速度的二分之一。

根据该图像符合的解析式，又可以进一步分为2种较为常见的模型:

##### 1. $\overline{v} = \frac{x}{t} = C$

此处$C$代表常量 `const` 。

此时 $\overline{v} = \frac{x}{t}$ 不随 $t$ 的变化而变化，即物体处于匀速直线运动状态。

##### 2. $\overline{v} = \frac{x}{t} = kt + b$

根据上文微分分析可知 $\overline{v} = \frac{x}{t} = v_{0} + \frac{1}{2} at$ 。

此时 $k$ 为定值，即加速度 $a$为定制，故物体做匀变速运动。

#### 图像分析概要

1. 确定研究对象。

2. 确定自变量、因变量、横纵轴所代表的物理量。

3. 列出正常条件下横纵轴物理量间存在的定量关系公式。

4. 找斜率、面积、截距的意义

## 例题

### 又是一年军训

#### 题面

![v-t pic](../assets/image/IPhO/v-t_graph.png)

在学校组织的军训展示环节中，某班级排成一条长度为 $L$ 的队列（从队尾到队首的距离为 $L$），最初全体同学保持静止。

队列在老师的口令下，以恒定加速度 $a_{team}$ 做匀加速运动，直至达到最大速度 $v_{\max}$，随后保持该匀速。

作为通讯兵的小明最开始在队尾等待信号。信号在 $t_0$ 后才传到他手中，此时队列仍在加速阶段。

小明收到信号后立即向队首奔去，追上队首后，此时队列恰好开始以 $v_{\max}$ 的速度前行，小明保持同样的速度与队伍一同前行，小明需要花 $\Delta t$ 与队长交接信息。

小明在队首与队长交接信息完成后立即掉头返回队尾。返回阶段以加速度 $a_{stu}^{\prime}$ 向后加速（初始速度为 $0$），直至追上队尾。设小明于$t_4$返回队首。

具体来说，小明的运动过程如下：

- $0 \le t < t_0$ 时，小明从静止开始做匀加速运动，加速度为 $a_{team}>0$。
- $t_0\le t < t_1$ 时，小明从原速度开始做匀加速运动，加速度为 $a_{stu}>0$。
- $t_1\le t < t_2$ 时，小明从原速度开始做匀减速运动，加速度为 $a_{stu}^{\prime}<0$。
- $t_2\le t < t_3,(t_3 = t_2+\Delta t)$ 时，小明以速度 $v_{\max}$ 做匀速运动。
- $t_3\le t < t_4$ 时，小明从静止开始做匀加速运动（反向），加速度为$a_{stu}^{\prime} < 0$。

你需要使用 $a_{team}, t_0, a_{stu}^{\prime}, v_{\max}, a_{stu}, \Delta t$ 表示下述内容

1. 小明在第 1 段与第 2 段运动的分界时刻 $t_1$（$t_0<t_1<t_2$）以及第 2 段结束时刻 $t_2$。  
2. 队列的长度 $L$。  
3. 小明完成一次往返（从队尾到队首再返回队尾）所需的总时间 $t_4$。

#### 解析

本题固然可以通过求图像中面积的方式求解，但并不方便，不妨让我们考虑使用解析几何来解决这个问题。

具体来说，我们可以使用分段函数来表示队伍和小明的速度变化。

由题可知，队伍的函数如下：

$$v_{team} = \begin{cases}
t\cdot a_{team},\quad 0\le t \le \frac{v_{\max}}{a_{team}}\\
v_{\max}, \quad \frac{v_{\max}}{a_{team}} < t
\end{cases}$$  

接下来我们分段考虑小明的运动情况：

$0\le t < t_0 $ 时，小明与队列一同行进，其速度也与队列相同：

$$v_{stu} = t \cdot a_{team}, \quad 0\le t < t_0$$

$ t_0 \le t < t_1 $时，小明加速向前，对于这一段函数，我们知道其斜率$a_{stu}$ 以及其$t_0$时的坐标 $(t_0,t_0\cdot a_{team})$，即可得到函数解析式，过程如下：

$$v_{stu} = t \cdot a_{stu} +b , \quad t_0 \le t < t_1$$

令 $t = t_0, \quad v = t_0 \cdot a_{team}$，解得：

$$v_{stu} = t \cdot a_{stu} + t_0 \cdot (a_{team}-a_{stu}) , \quad t_0 \le t < t_1 $$

$ t_1 \le t < t_2 $时，小明减速追上队首，我们同样知道这段函数的斜率 $a_{stu}^{\prime}$ 以及其 $t_1$ 时的坐标 $(t_1,t_1\cdot a_{stu} + t_0 \cdot (a_{team}-a_{stu}))$ ，为了求出这段函数的解析式，我们需要先求出$t_2$。

根据题意，小明在$t_2$时刻追上队首，此时队列开始以$v_{\max}$匀速行进，因此$t_2$就是队列达到最大速度的时刻：

$$t_2 = \frac{v_{\max}}{a_{team}}$$

现在我们可以求出$t_1$。在$t_1$时刻，小明追上队首，此时小明和队首的位置相同。我们需要通过位移关系来求解$t_1$。

首先，我们计算队首在$t_0$到$t_2$期间的位移。队首的运动分为两段：
1. $0 \le t < t_0$：从静止开始以加速度$a_{team}$加速
2. $t_0 \le t < t_2$：继续以加速度$a_{team}$加速直到达到$v_{\max}$

队首在$t_0$时刻的速度为$v_{team}(t_0) = t_0 \cdot a_{team}$，在$t_2$时刻的速度为$v_{\max}$。

队首在$t_0$到$t_2$期间的位移为：

$$\begin{align*}
x_{team} &= v_{team}(t_0) \cdot (t_2 - t_0) + \frac{1}{2} a_{team} \cdot (t_2 - t_0)^2\\
x_{team} &= t_0 \cdot a_{team} \cdot (t_2 - t_0) + \frac{1}{2} a_{team} \cdot (t_2 - t_0)^2\\
x_{team} &= \frac{1}{2} a_{team} \cdot (t_2 - t_0)^2 + t_0 \cdot a_{team} \cdot (t_2 - t_0)\\
x_{team} &= \frac{1}{2} a_{team} \cdot (t_2 - t_0) \cdot (t_2 - t_0 + 2t_0\\
x_{team} &= \frac{1}{2} a_{team} \cdot (t_2 - t_0) \cdot (t_2 + t_0)
\end{align*}$$

小明在$t_0$到$t_1$期间的位移为：

$$\begin{align*}
x_{stu1} &= v_{stu}(t_0) \cdot (t_1 - t_0) + \frac{1}{2} a_{stu} \cdot (t_1 - t_0)^2\\
x_{stu1} &= t_0 \cdot a_{team} \cdot (t_1 - t_0) + \frac{1}{2} a_{stu} \cdot (t_1 - t_0)^2
\end{align*}$$

小明在$t_1$到$t_2$期间的位移为：
$$x_{stu2} = v_{stu}(t_1) \cdot (t_2 - t_1) + \frac{1}{2} a_{stu}^{\prime} \cdot (t_2 - t_1)^2$$

其中$v_{stu}(t_1) = t_1 \cdot a_{stu} + t_0 \cdot (a_{team} - a_{stu})$

现在我们来求解$t_1$。在$t_1$时刻，小明追上队首，意味着小明的总位移等于队首的位移加上队列的初始长度$L$：

$$x_{stu1} + x_{stu2} = x_{team} + L$$

其中：
- $x_{stu1}$是小明在$t_0$到$t_1$期间的位移
- $x_{stu2}$是小明在$t_1$到$t_2$期间的位移
- $x_{team}$是队首在$t_0$到$t_2$期间的位移

将前面的公式代入，我们得到：

$$t_0 \cdot a_{team} \cdot (t_1 - t_0) + \frac{1}{2} a_{stu} \cdot (t_1 - t_0)^2 + v_{stu}(t_1) \cdot (t_2 - t_1) + \frac{1}{2} a_{stu}^{\prime} \cdot (t_2 - t_1)^2 = \frac{1}{2} a_{team} \cdot (t_2 - t_0) \cdot (t_2 + t_0) + L$$

整理得到：

$$
t_0 \cdot a_{team} \cdot (t_1 - t_0) + \frac{1}{2} a_{stu} \cdot (t_1 - t_0)^2 + (t_1 \cdot a_{stu} + t_0 \cdot (a_{team} - a_{stu})) \cdot (t_2 - t_1) + \frac{1}{2} a_{stu}^{\prime} \cdot (t_2 - t_1)^2 = \frac{1}{2} a_{team} \cdot (t_2^2 - t_0^2) + L
$$

将$t_2 = \frac{v_{\max}}{a_{team}}$代入，并解出$t_1$：

$$t_1 = \frac{v_{\max} - \sqrt{v_{\max}^2 - 2(a_{stu} - a_{team})(t_2-t_0)v_{\max} + (a_{stu}-a_{team})^2(t_2-t_0)^2 + 2(a_{stu}-a_{team})L}}{a_{stu}-a_{team}} + t_0$$

$t_2 \le t < t_3 $ 时，此时小明与队伍同时保持$v_{\max}$行进，则：

$$v_{stu} = v_{\max}, \quad t_2 \le t < t_3$$

$t_3 \le t < t_4 $ 时，小明加速返回队尾，此时小明的初始速度为$0$（相对于队伍），加速度为$a_{stu}^{\prime}$：

$$v_{stu} = (t - t_3) \cdot a_{stu}^{\prime}, \quad t_3 \le t < t_4$$

现在我们需要求解队列长度$L$和总时间$t_4$。

对于队列长度$L$，根据前面的位移关系方程，我们可以解出$L$：

$$L = t_0 \cdot a_{team} \cdot (t_1 - t_0) + \frac{1}{2} a_{stu} \cdot (t_1 - t_0)^2 + (t_1 \cdot a_{stu} + t_0 \cdot (a_{team} - a_{stu})) \cdot (t_2 - t_1) + \frac{1}{2} a_{stu}^{\prime} \cdot (t_2 - t_1)^2 - \frac{1}{2} a_{team} \cdot (t_2^2 - t_0^2)$$

这个表达式可以进一步简化。将$t_2 = \frac{v_{\max}}{a_{team}}$代入，我们得到：

$$L = t_0 \cdot a_{team} \cdot (t_1 - t_0) + \frac{1}{2} a_{stu} \cdot (t_1 - t_0)^2 + (t_1 \cdot a_{stu} + t_0 \cdot (a_{team} - a_{stu})) \cdot (\frac{v_{\max}}{a_{team}} - t_1) + \frac{1}{2} a_{stu}^{\prime} \cdot (\frac{v_{\max}}{a_{team}} - t_1)^2 - \frac{1}{2} a_{team} \cdot (\frac{v_{\max}^2}{a_{team}^2} - t_0^2)$$

整理得到：
$$L = \frac{1}{2} a_{stu} \cdot (t_1 - t_0)^2 + (t_1 \cdot a_{stu} + t_0 \cdot (a_{team} - a_{stu})) \cdot (\frac{v_{\max}}{a_{team}} - t_1) + \frac{1}{2} a_{stu}^{\prime} \cdot (\frac{v_{\max}}{a_{team}} - t_1)^2 - \frac{v_{\max}^2}{2a_{team}}$$

接下来我们求解小明完成一次往返所需的总时间$t_4$。

在$t_3$时刻，小明开始返回队尾。此时小明相对于队伍的速度为$0$，然后以加速度$a_{stu}^{\prime}$向后加速。

小明返回时的速度函数为：

$$v_{stu} = (t - t_3) \cdot a_{stu}^{\prime}, \quad t_3 \le t < t_4$$

小明返回时的位移函数为（以$t_3$时刻的位置为起点）：

$$x_{stu}^{(return)} = \frac{1}{2} a_{stu}^{\prime} \cdot (t - t_3)^2, \quad t_3 \le t < t_4$$

在$t_3$到$t_4$期间，队尾继续向前运动。队尾的速度函数需要分段考虑：

1. 在$0 \le t < t_2$期间，队尾以加速度$a_{team}$加速，速度函数为：
   $v_{team}^{(tail)} = t \cdot a_{team}, \quad 0 \le t < t_2$

2. 在$t_2 \le t$期间，队尾以速度$v_{\max}$匀速运动：
   $v_{team}^{(tail)} = v_{\max}, \quad t_2 \le t$

因此，在$t_3 \le t < t_4$期间，队尾的位移函数为（以$t_3$时刻的位置为起点）：

$$x_{team}^{(tail)} = v_{\max} \cdot (t - t_3) + \frac{1}{2} a_{team} \cdot (t - t_3)^2, \quad t_3 \le t < t_4$$

当小明返回队尾时，他的位移等于队尾的位移加上队列长度$L$：

$$x_{stu}^{(return)} = x_{team}^{(tail)} + L$$

即：

$$\frac{1}{2} a_{stu}^{\prime} \cdot (t_4 - t_3)^2 = v_{\max} \cdot (t_4 - t_3) + \frac{1}{2} a_{team} \cdot (t_4 - t_3)^2 + L$$

整理得到：

$$\frac{1}{2} (a_{stu}^{\prime} - a_{team}) \cdot (t_4 - t_3)^2 - v_{\max} \cdot (t_4 - t_3) - L = 0$$

这是一个关于$(t_4 - t_3)$的二次方程，可以求解出$t_4 - t_3$，进而得到$t_4$。

使用二次方程求根公式：

$$t_4 - t_3 = \frac{v_{\max} \pm \sqrt{v_{\max}^2 + 2(a_{stu}^{\prime} - a_{team})L}}{a_{stu}^{\prime} - a_{team}}$$

由于$a_{stu}^{\prime} < 0$且$a_{team} > 0$，所以$a_{stu}^{\prime} - a_{team} < 0$。为了使$t_4 - t_3 > 0$，我们需要选择合适的根：

$$t_4 - t_3 = \frac{v_{\max} - \sqrt{v_{\max}^2 + 2(a_{stu}^{\prime} - a_{team})L}}{a_{stu}^{\prime} - a_{team}}$$

因此，总时间$t_4$为：

$$t_4 = t_3 + \frac{v_{\max} - \sqrt{v_{\max}^2 + 2(a_{stu}^{\prime} - a_{team})L}}{a_{stu}^{\prime} - a_{team}}$$

其中$t_3 = t_2 + \Delta t = \frac{v_{\max}}{a_{team}} + \Delta t$。

至此，我们已经完成了题目要求的所有求解：
1. 分界时刻$t_1$和结束时刻$t_2$
2. 队列长度$L$
3. 总时间$t_4$
